services:
  - type: web
    name: campus-companion-backend
    runtime: node
    branch: main
    plan: free
    autoDeploy: true
    buildCommand: cd backend && npm install
    startCommand: cd backend && npm start
    # Render will run these commands from the repository root; the 'cd backend' ensures
    # the Node service runs where `backend/package.json` lives.
    healthCheckPath: /api/health

  - type: web
    name: campus-companion-python-ai
    runtime: python
    branch: main
    plan: free
    autoDeploy: true
    buildCommand: pip install -r python-ai-service/requirements.txt
    startCommand: cd python-ai-service && python main.py
    # The python service will be started from its subfolder so it finds its own
    # requirements and entrypoint.
    healthCheckPath: /health
# Note: Environment variables have been removed from this file for security.
# Add required secrets (MONGODB_URI, JWT_SECRET, GEMINI_API_KEY, BACKEND_API_KEY,
# FRONTEND_URL, etc.) in the Render dashboard per-service.